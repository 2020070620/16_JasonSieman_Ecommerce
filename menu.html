<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>Garlickoe — Produk</title>

  <link rel="icon" type="image/x-icon" href=".//assets/img/brand.png">
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
  <link href="css/font-awesome.min.css" rel="stylesheet" />
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css" />
  <link href="css/style.css" rel="stylesheet" />
  <link href="css/responsive.css" rel="stylesheet" />

  <style>
    /* Fix tinggi card */
    .product-card {
      min-height: 470px;
      display: flex;
    }

    /* Tombol DETAIL diperbesar & kotak panjang */
    .detail-btn {
      display: inline-block;
      background: #222;
      color: #fff !important;
      padding: 8px 18px !important;
      border-radius: 6px;
      text-align: center;
      width: 110px;
      font-size: 14px;
      white-space: nowrap;
    }

    .detail-btn:hover {
      background: #444;
    }

    /* Tombol Buy */
    .buy-btn {
      display: inline-block;
      background: #ffbe33;
      color: #fff !important;
      padding: 8px 18px !important;
      border-radius: 6px;
      text-align: center;
      width: 80px;
      font-size: 14px;
      white-space: nowrap;
    }

    .options {
      display: flex;
      gap: 6px;
      justify-content: space-between;
      align-items: center;
      margin-top: 8px;
    }
  </style>

</head>

<body class="sub_page">

  <div class="hero_area">
    <div class="bg-box">
      <img src="images/garlickoe-products-hero.jpg" alt="Produk Garlickoe"
        onerror="this.src='.//assets/img/bawang tunggal product preview.jpg'">
    </div>

    <header class="header_section">
      <div class="container">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="index.html"><span>Garlickoe</span></a>
          <button class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class=""></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mx-auto ">
              <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
              <li class="nav-item active"><a class="nav-link" href="menu.html">Products</a></li>
              <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
              <li class="nav-item"><a class="nav-link" href="book.html">Order</a></li>
            </ul>
            <div class="user_option">
              <a href="login.html" class="user_link"><i class="fa fa-user"></i></a>
              <a href="transaksi.php" class="cart_link"><i class="fa fa-shopping-cart"></i></a>
              <a href="data.php" class="btn btn-sm btn-warning">Admin</a>
            </div>
          </div>
        </nav>
      </div>
    </header>
  </div>

  <section class="food_section layout_padding">
    <div class="container">
      <div class="heading_container heading_center">
        <h2>Produk Garlickoe</h2>
      </div>

      <!-- Search + Sort -->
      <div class="row mb-3">
        <div class="col-md-4">
          <input id="searchInput" class="form-control" placeholder="Cari produk...">
        </div>
        <div class="col-md-4">
          <select id="sortSelect" class="form-control nice-select wide">
            <option value="default">Sort</option>
            <option value="price_asc">Harga ↑</option>
            <option value="price_desc">Harga ↓</option>
            <option value="name_asc">Nama A–Z</option>
            <option value="name_desc">Nama Z–A</option>
          </select>
        </div>
      </div>

      <div id="productsGrid" class="row grid"></div>

      <div class="btn-box text-center mt-4">
        <a href="book.html">Order Sekarang</a>
      </div>
    </div>
  </section>

  <footer class="footer_section">
    <div class="container">
      <div class="footer-info">
        <p>&copy; <span id="displayYear"></span> Garlickoe</p>
      </div>
    </div>
  </footer>

  <!-- JS -->
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js"></script>
  <script src="js/custom.js"></script>

  <script>
    document.getElementById('displayYear').textContent = new Date().getFullYear();
  </script>

  <script>
    // Data produk lengkap
    const products = [
      { name: "Bawang Hitam Tunggal 250gr", price: 89999, slug: "bawang-hitam-tunggal-250gr", desc: "Manis, kenyal, kaya antioksidan." },
      { name: "Bawang Hitam Kating 250gr", price: 60000, slug: "bawang-hitam-kating-250gr", desc: "Varian kating fermentasi — klasik dan aromatik." },
      { name: "Bawang Hitam Tunggal Kupas 275gr", price: 64699, slug: "bawang-hitam-tunggal-kupas-275gr", desc: "Tunggal yang sudah dikupas — lebih higienis dan praktis." },
      { name: "Paket 1kg Tunggal + Detol", price: 360000, slug: "paket-1kg-tunggal-detol", desc: "1kg bawang hitam plus bonus Detol." },
      { name: "Paket 750gr Tunggal + Masker", price: 300000, slug: "paket-750gr-tunggal-masker", desc: "750gr bawang hitam plus 10 masker." },
    ];

    const container = document.getElementById('productsGrid');
    const search = document.getElementById('searchInput');
    const sort = document.getElementById('sortSelect');

    function renderProducts(list) {
      container.innerHTML = "";
      list.forEach(p => {
        const card = document.createElement('div');
        card.className = "col-sm-6 col-lg-4 all garlic product-card";

        card.innerHTML = `
          <div class="box">
            <div class="img-box">
              <img src=".//assets/img/${p.slug}.jpg" alt="${p.name}" onerror="this.src='.//assets/img/f1.png'">
            </div>
            <div class="detail-box">
              <h5>${p.name}</h5>
              <p>${p.desc}</p>
              <div class="options">
                <h6>Rp ${p.price.toLocaleString('id-ID')}</h6>

                <a class="detail-btn" href="public/product-${p.slug}.html">Detail</a>

                <a class="buy-btn" href="transaksi.php?produk=${encodeURIComponent(p.name)}">Buy</a>
              </div>
            </div>
          </div>
        `;

        container.appendChild(card);
      });
    }

    function applyFilterSort() {
      const q = search.value.toLowerCase();
      let filtered = products.filter(p => p.name.toLowerCase().includes(q));

      const method = sort.value;
      if (method === 'price_asc') filtered.sort((a, b) => a.price - b.price);
      if (method === 'price_desc') filtered.sort((a, b) => b.price - a.price);
      if (method === 'name_asc') filtered.sort((a, b) => a.name.localeCompare(b.name));
      if (method === 'name_desc') filtered.sort((a, b) => b.name.localeCompare(a.name));

      renderProducts(filtered);
    }

    search.addEventListener('input', applyFilterSort);
    sort.addEventListener('change', applyFilterSort);

    renderProducts(products);
  </script>

</body>

<footer class="footer_section">
  <div class="container">
    <div class="footer-info" style="text-align:center;">

      <p style="margin-bottom: 6px;">
        &copy; <span id="displayYear"></span> Garlickoe — All Rights Reserved
      </p>

      <p style="margin: 0; font-size: 15px; opacity: .85;">
        Website dibuat oleh <b style="color:#f1c40f;">Jason Sieman</b><br>
        Kelas <b>12.4</b>, Absen <b>16</b>, SMA Petra 1
      </p>

      <p style="margin-top: 8px; font-size: 14px; opacity: .8;">
        Bahasa pemrograman: <span style="color:#f1c40f;">HTML • CSS • PHP • SQL</span>
      </p>

      <p style="margin-top: 10px;">
        <a href="data.php" style="color:#f1c40f; text-decoration:none; font-weight:600;">
          Lihat Detail Pembuat →
        </a>
      </p>

    </div>
  </div>
</footer>

</html>
